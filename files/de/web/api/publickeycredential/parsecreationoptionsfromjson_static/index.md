---
title: "PublicKeyCredential: parseCreationOptionsFromJSON() statische Methode"
short-title: parseCreationOptionsFromJSON()
slug: Web/API/PublicKeyCredential/parseCreationOptionsFromJSON_static
l10n:
  sourceCommit: 307353ad05e16e99a5a1c8d1a665f5352f9b84ab
---

{{APIRef("Web Authentication API")}}{{securecontext_header}}

Die statische Methode **`parseCreationOptionsFromJSON()`** des [`PublicKeyCredential`](/de/docs/Web/API/PublicKeyCredential)-Interfaces erstellt ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt aus einer JSON-Darstellung seiner Eigenschaften.

Die Methode ist eine Komfortfunktion, um Berechtigungsoptionsinformationen, die von einem Server für die vertrauende Partei bereitgestellt werden, in eine Form zu konvertieren, die eine Webanwendung verwenden kann, um [eine Berechtigung zu erstellen](/de/docs/Web/API/Web_Authentication_API#creating_a_key_pair_and_registering_a_user).

## Syntax

```js-nolint
PublicKeyCredential.parseCreationOptionsFromJSON(options)
```

### Parameter

- `options`

  - : Ein Objekt mit derselben Struktur wie ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions), jedoch mit {{Glossary("Base64", "base64url")}}-kodierten Zeichenfolgen anstelle von Puffer-Eigenschaften.

### Rückgabewert

Ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt.

### Ausnahmen

- `EncodingError` [`DOMException`](/de/docs/Web/API/DOMException)
  - : Wird ausgelöst, wenn das `options`-Objekt nicht in ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt konvertiert werden kann.

## Beschreibung

Der Web-Authentifizierungsprozess zum [Erstellen eines Schlüsselpaares und Registrieren eines Benutzers](/de/docs/Web/API/Web_Authentication_API#creating_a_key_pair_and_registering_a_user) beinhaltet, dass ein Server für die vertrauende Partei der Webanwendung die notwendige Information zur Erstellung einer Berechtigung sendet, einschließlich Details über die Benutzeridentität, die vertrauende Partei und eine "Herausforderung".
Die Webanwendung übergibt diese Informationen an einen Authentifikator, um die Berechtigung zu erstellen, indem sie [`navigator.credentials.create()`](/de/docs/Web/API/CredentialsContainer/create) mit einem [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt als Argument aufruft.

Die Spezifikation definiert nicht, wie die Informationen, die für die Erstellung einer Berechtigung benötigt werden, gesendet werden sollen.
Ein praktischer Ansatz ist, dass der Server die Informationen in einer {{Glossary("JSON_type_representation", "JSON-Typ-Darstellung")}} des [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekts kapselt, das seine Struktur widerspiegelt, aber Puffer-Eigenschaften wie die `challenge` und `user.id` als {{Glossary("Base64", "base64url")}}-Zeichenfolgen kodiert.
Dieses Objekt kann in eine {{Glossary("JSON", "JSON")}}-Zeichenfolge serialisiert, an die Webanwendung gesendet und deserialisiert werden und dann mit **`parseCreationOptionsFromJSON()`** in ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt konvertiert werden.

## Beispiele

Beim Registrieren eines neuen Benutzers wird ein Server für die vertrauende Partei Informationen zu den erwarteten Berechtigungen an die Webanwendung liefern.
Der untenstehende Code definiert diese Informationen in der im [Parameter `options`](#options) beschriebenen Form (entnommen aus dem ["Abrufen einer AuthenticatorAttestationResponse"](/de/docs/Web/API/AuthenticatorResponse#getting_an_authenticatorattestationresponse) in `AuthenticatorResponse`):

```js
const createCredentialOptionsJSON = {
  challenge:
    "21, 31, 105, " /* 29 more random bytes generated by the server in this string */,
  rp: {
    name: "Example CORP",
    id: "login.example.com",
  },
  user: {
    id: "16",
    name: "canand@example.com",
    displayName: "Carina Anand",
  },
  pubKeyCredParams: [
    {
      type: "public-key",
      alg: -7,
    },
  ],
};
```

Da dieses Objekt nur JSON-Datentypen verwendet, kann es mit [`JSON.stringify()`](/de/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) in JSON serialisiert und an die Webanwendung gesendet werden.

```js
JSON.stringify(createCredentialOptionsJSON);
```

Die Webanwendung kann die JSON-Zeichenfolge zurück in ein `createCredentialOptionsJSON`-Objekt deserialisieren (nicht gezeigt).
Die Methode **`parseCreationOptionsFromJSON()`** wird verwendet, um dieses Objekt in die Form zu konvertieren, die in `navigator.credentials.create()` verwendet werden kann:

```js
// Convert options to form used by create()
const createCredentialOptions =
  PublicKeyCredential.parseCreationOptionsFromJSON(
    createCredentialOptionsJSON, // JSON-type representation
  );

navigator.credentials
  .create({ publicKey: createCredentialOptions })
  .then((newCredentialInfo) => {
    // Handle the new credential information here.
  })
  .catch((err) => {
    console.error(err);
  });
```

## Spezifikationen

{{Specifications}}

## Browser-Kompatibilität

{{Compat}}

## Siehe auch

- [Web Authentication API](/de/docs/Web/API/Web_Authentication_API)
- [`PublicKeyCredential.parseRequestOptionsFromJSON()`](/de/docs/Web/API/PublicKeyCredential/parseRequestOptionsFromJSON_static)
- [`PublicKeyCredential.toJSON()`](/de/docs/Web/API/PublicKeyCredential/toJSON)
